<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1363px" preserveAspectRatio="none" style="width:1442px;height:1363px;background:#FFFFFF;" version="1.1" viewBox="0 0 1442 1363" width="1442px" zoomAndPan="magnify"><title>User Authentication &amp; Authorization Flow</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329.4102" x="557.6321" y="27.9951">User Authentication &amp; Authorization Flow</text><g><title>Frontend App</title><rect fill="#FFFFFF" height="1114.5234" style="stroke:#181818;stroke-width:1;" width="10" x="220.3706" y="149.7266"/></g><g><title>Gateway Service</title><rect fill="#FFFFFF" height="344.5938" style="stroke:#181818;stroke-width:1;" width="10" x="417.2852" y="178.8594"/></g><g><title>Gateway Service</title><rect fill="#FFFFFF" height="386.3984" style="stroke:#181818;stroke-width:1;" width="10" x="417.2852" y="856.7188"/></g><g><title>Auth Service</title><rect fill="#FFFFFF" height="286.3281" style="stroke:#181818;stroke-width:1;" width="10" x="586.7651" y="207.9922"/></g><g><title>Keycloak IDM</title><rect fill="#FFFFFF" height="257.1953" style="stroke:#181818;stroke-width:1;" width="10" x="746.3447" y="237.125"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="861.5737" y="319.5234"/></g><g><title>Policy Decision</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#181818;stroke-width:1;" width="10" x="982.0356" y="943.1172"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1220.9063" y="348.6563"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1220.9063" y="972.25"/></g><g><title>Dashboard Service</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1347.4785" y="1125.9141"/></g><rect fill="none" height="532.1953" style="stroke:#000000;stroke-width:1.5;" width="1269.2827" x="10" y="252.125"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="1274.7588" x="160.9155" y="1087.6484"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="34.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="118.5938" y2="1282.25"/></g><g><title>Frontend App</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="221.3706" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="224.9155" x2="224.9155" y1="118.5938" y2="1282.25"/></g><g><title>Gateway Service</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="418.2852" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="422.2671" x2="422.2671" y1="118.5938" y2="1282.25"/></g><g><title>Auth Service</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="587.7651" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="591.2632" x2="591.2632" y1="118.5938" y2="1282.25"/></g><g><title>Keycloak IDM</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="747.3447" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="751.1665" x2="751.1665" y1="118.5938" y2="1282.25"/></g><g><title>User Service</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="862.5737" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="866.5229" x2="866.5229" y1="118.5938" y2="1282.25"/></g><g><title>Policy Decision</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="983.0356" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="986.6245" x2="986.6245" y1="118.5938" y2="1282.25"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="1221.9063" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1225.5298" x2="1225.5298" y1="118.5938" y2="1282.25"/></g><g><title>Dashboard Service</title><rect fill="#000000" fill-opacity="0.00000" height="1163.6563" width="8" x="1348.4785" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1352.2827" x2="1352.2827" y1="118.5938" y2="1282.25"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="115.292">User</text><ellipse cx="38.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,58.7969 L38.9551,85.7969 M25.9551,66.7969 L51.9551,66.7969 M38.9551,85.7969 L25.9551,100.7969 M38.9551,85.7969 L51.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1294.2451">User</text><ellipse cx="38.9551" cy="1306.0469" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1314.0469 L38.9551,1341.0469 M25.9551,1322.0469 L51.9551,1322.0469 M38.9551,1341.0469 L25.9551,1356.0469 M38.9551,1341.0469 L51.9551,1356.0469" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.9102" x="170.9155" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9102" x="177.9155" y="107.292">Frontend App</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.9102" x="170.9155" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9102" x="177.9155" y="1301.2451">Frontend App</text></g><g class="participant participant-head" data-participant="GW"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0361" x="356.2671" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0361" x="363.2671" y="107.292">Gateway Service</text></g><g class="participant participant-tail" data-participant="GW"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.0361" x="356.2671" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.0361" x="363.2671" y="1301.2451">Gateway Service</text></g><g class="participant participant-head" data-participant="AS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.0039" x="540.2632" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.0039" x="547.2632" y="107.292">Auth Service</text></g><g class="participant participant-tail" data-participant="AS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.0039" x="540.2632" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.0039" x="547.2632" y="1301.2451">Auth Service</text></g><g class="participant participant-head" data-participant="KC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.3564" x="697.1665" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.3564" x="704.1665" y="107.292">Keycloak IDM</text></g><g class="participant participant-tail" data-participant="KC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.3564" x="697.1665" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.3564" x="704.1665" y="1301.2451">Keycloak IDM</text></g><g class="participant participant-head" data-participant="US"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.1016" x="815.5229" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1016" x="822.5229" y="107.292">User Service</text></g><g class="participant participant-tail" data-participant="US"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.1016" x="815.5229" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1016" x="822.5229" y="1301.2451">User Service</text></g><g class="participant participant-head" data-participant="PDS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.8223" x="927.6245" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.8223" x="934.6245" y="107.292">Policy Decision</text></g><g class="participant participant-tail" data-participant="PDS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.8223" x="927.6245" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.8223" x="934.6245" y="1301.2451">Policy Decision</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1182.5298" y="115.292">PostgreSQL</text><path d="M1207.9063,66.2969 C1207.9063,56.2969 1225.9063,56.2969 1225.9063,56.2969 C1225.9063,56.2969 1243.9063,56.2969 1243.9063,66.2969 L1243.9063,92.2969 C1243.9063,102.2969 1225.9063,102.2969 1225.9063,102.2969 C1225.9063,102.2969 1207.9063,102.2969 1207.9063,92.2969 L1207.9063,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1207.9063,66.2969 C1207.9063,76.2969 1225.9063,76.2969 1225.9063,76.2969 C1225.9063,76.2969 1243.9063,76.2969 1243.9063,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1182.5298" y="1294.2451">PostgreSQL</text><path d="M1207.9063,1307.5469 C1207.9063,1297.5469 1225.9063,1297.5469 1225.9063,1297.5469 C1225.9063,1297.5469 1243.9063,1297.5469 1243.9063,1307.5469 L1243.9063,1333.5469 C1243.9063,1343.5469 1225.9063,1343.5469 1225.9063,1343.5469 C1225.9063,1343.5469 1207.9063,1343.5469 1207.9063,1333.5469 L1207.9063,1307.5469" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1207.9063,1307.5469 C1207.9063,1317.5469 1225.9063,1317.5469 1225.9063,1317.5469 C1225.9063,1317.5469 1243.9063,1317.5469 1243.9063,1307.5469" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Dashboard Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3916" x="1279.2827" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3916" x="1286.2827" y="107.292">Dashboard Service</text></g><g class="participant participant-tail" data-participant="Dashboard Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3916" x="1279.2827" y="1281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3916" x="1286.2827" y="1301.2451">Dashboard Service</text></g><g><title>Frontend App</title><rect fill="#FFFFFF" height="1114.5234" style="stroke:#181818;stroke-width:1;" width="10" x="220.3706" y="149.7266"/></g><g><title>Gateway Service</title><rect fill="#FFFFFF" height="344.5938" style="stroke:#181818;stroke-width:1;" width="10" x="417.2852" y="178.8594"/></g><g><title>Gateway Service</title><rect fill="#FFFFFF" height="386.3984" style="stroke:#181818;stroke-width:1;" width="10" x="417.2852" y="856.7188"/></g><g><title>Auth Service</title><rect fill="#FFFFFF" height="286.3281" style="stroke:#181818;stroke-width:1;" width="10" x="586.7651" y="207.9922"/></g><g><title>Keycloak IDM</title><rect fill="#FFFFFF" height="257.1953" style="stroke:#181818;stroke-width:1;" width="10" x="746.3447" y="237.125"/></g><g><title>User Service</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="861.5737" y="319.5234"/></g><g><title>Policy Decision</title><rect fill="#FFFFFF" height="129.5313" style="stroke:#181818;stroke-width:1;" width="10" x="982.0356" y="943.1172"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1220.9063" y="348.6563"/></g><g><title>PostgreSQL</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1220.9063" y="972.25"/></g><g><title>Dashboard Service</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1347.4785" y="1125.9141"/></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#181818" points="208.3706,145.7266,218.3706,149.7266,208.3706,153.7266,212.3706,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="214.3706" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.0649" x="45.9551" y="144.6606">Enter credentials</text></g><g class="message" data-participant-1="FE" data-participant-2="GW"><polygon fill="#181818" points="405.2852,174.8594,415.2852,178.8594,405.2852,182.8594,409.2852,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.3706" x2="411.2852" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3672" x="237.3706" y="173.7935">POST /auth/login</text></g><g class="message" data-participant-1="GW" data-participant-2="AS"><polygon fill="#181818" points="574.7651,203.9922,584.7651,207.9922,574.7651,211.9922,578.7651,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="427.2852" x2="580.7651" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.48" x="434.2852" y="202.9263">Forward auth request</text></g><g class="message" data-participant-1="AS" data-participant-2="KC"><polygon fill="#181818" points="734.3447,233.125,744.3447,237.125,734.3447,241.125,738.3447,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.7651" x2="740.3447" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.5684" x="603.7651" y="232.0591">Validate credentials</text></g><path d="M10,252.125 L74.4429,252.125 L74.4429,259.2578 L64.4429,269.2578 L10,269.2578 L10,252.125" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="532.1953" style="stroke:#000000;stroke-width:1.5;" width="1269.2827" x="10" y="252.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="265.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116.1284" x="89.4429" y="264.3354">[Credentials Valid]</text><g class="message" data-participant-1="KC" data-participant-2="AS"><polygon fill="#181818" points="607.7651,286.3906,597.7651,290.3906,607.7651,294.3906,603.7651,290.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="601.7651" x2="745.3447" y1="290.3906" y2="290.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.3447" x="613.7651" y="285.3247">Return user claims</text></g><g class="message" data-participant-1="AS" data-participant-2="US"><polygon fill="#181818" points="849.5737,315.5234,859.5737,319.5234,849.5737,323.5234,853.5737,319.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.7651" x2="855.5737" y1="319.5234" y2="319.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1372" x="603.7651" y="314.4575">Get user profile</text></g><g class="message" data-participant-1="US" data-participant-2="DB"><polygon fill="#181818" points="1208.9063,344.6563,1218.9063,348.6563,1208.9063,352.6563,1212.9063,348.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="871.5737" x2="1214.9063" y1="348.6563" y2="348.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.4092" x="878.5737" y="343.5903">Query user data</text></g><g class="message" data-participant-1="DB" data-participant-2="US"><polygon fill="#181818" points="882.5737,373.7891,872.5737,377.7891,882.5737,381.7891,878.5737,377.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="876.5737" x2="1224.9063" y1="377.7891" y2="377.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1118" x="888.5737" y="372.7231">User profile</text></g><g class="message" data-participant-1="US" data-participant-2="AS"><polygon fill="#181818" points="607.7651,402.9219,597.7651,406.9219,607.7651,410.9219,603.7651,406.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="601.7651" x2="865.5737" y1="406.9219" y2="406.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.2397" x="613.7651" y="401.856">User attributes</text></g><g class="message" data-participant-1="AS" data-participant-2="KC"><polygon fill="#181818" points="734.3447,432.0547,744.3447,436.0547,734.3447,440.0547,738.3447,436.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="596.7651" x2="740.3447" y1="436.0547" y2="436.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.1001" x="603.7651" y="430.9888">Request JWT token</text></g><g class="message" data-participant-1="KC" data-participant-2="AS"><polygon fill="#181818" points="607.7651,461.1875,597.7651,465.1875,607.7651,469.1875,603.7651,465.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="601.7651" x2="745.3447" y1="465.1875" y2="465.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.248" x="613.7651" y="460.1216">JWT with claims</text></g><g class="message" data-participant-1="AS" data-participant-2="GW"><polygon fill="#181818" points="438.2852,490.3203,428.2852,494.3203,438.2852,498.3203,434.2852,494.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="432.2852" x2="590.7651" y1="494.3203" y2="494.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.4995" x="444.2852" y="489.2544">JWT + user context</text></g><g class="message" data-participant-1="GW" data-participant-2="FE"><polygon fill="#181818" points="241.3706,519.4531,231.3706,523.4531,241.3706,527.4531,237.3706,523.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="235.3706" x2="421.2852" y1="523.4531" y2="523.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4888" x="247.3706" y="518.3872">200 OK + JWT</text></g><g class="message" data-participant-1="FE" data-participant-2="FE"><line style="stroke:#181818;stroke-width:1;" x1="230.3706" x2="272.3706" y1="552.5859" y2="552.5859"/><line style="stroke:#181818;stroke-width:1;" x1="272.3706" x2="272.3706" y1="552.5859" y2="565.5859"/><line style="stroke:#181818;stroke-width:1;" x1="231.3706" x2="272.3706" y1="565.5859" y2="565.5859"/><polygon fill="#181818" points="241.3706,561.5859,231.3706,565.5859,241.3706,569.5859,237.3706,565.5859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.4067" x="237.3706" y="547.52">Store JWT</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#181818" points="49.9551,590.7188,39.9551,594.7188,49.9551,598.7188,45.9551,594.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="219.3706" y1="594.7188" y2="594.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.2827" x="55.9551" y="589.6528">Login success</text></g><path d="M235,607.7188 L235,647.7188 L479,647.7188 L479,617.7188 L469,607.7188 L235,607.7188" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M469,607.7188 L469,617.7188 L479,617.7188 L469,607.7188" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.2295" x="241" y="624.7856">User is authenticated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.2217" x="241" y="639.9185">JWT contains tenant &amp; user claims</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1279.2827" y1="653.9844" y2="653.9844"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="126.7095" x="15" y="664.1948">[Credentials Invalid]</text><g class="message" data-participant-1="KC" data-participant-2="AS"><polygon fill="#181818" points="602.7651,684.9219,592.7651,688.9219,602.7651,692.9219,598.7651,688.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="596.7651" x2="750.3447" y1="688.9219" y2="688.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5796" x="608.7651" y="683.856">Authentication failed</text></g><g class="message" data-participant-1="AS" data-participant-2="GW"><polygon fill="#181818" points="433.2852,714.0547,423.2852,718.0547,433.2852,722.0547,429.2852,718.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="427.2852" x2="590.7651" y1="718.0547" y2="718.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="439.2852" y="712.9888">401 Unauthorized</text></g><g class="message" data-participant-1="GW" data-participant-2="FE"><polygon fill="#181818" points="241.3706,743.1875,231.3706,747.1875,241.3706,751.1875,237.3706,747.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="235.3706" x2="421.2852" y1="747.1875" y2="747.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="247.3706" y="742.1216">401 Unauthorized</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#181818" points="49.9551,772.3203,39.9551,776.3203,49.9551,780.3203,45.9551,776.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="219.3706" y1="776.3203" y2="776.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.4482" x="55.9551" y="771.2544">Login failed</text></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#181818" points="208.3706,808.4531,218.3706,812.4531,208.3706,816.4531,212.3706,812.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="214.3706" y1="812.4531" y2="812.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.624" x="45.9551" y="807.3872">Navigate to dashboard</text></g><g class="message" data-participant-1="FE" data-participant-2="GW"><polygon fill="#181818" points="405.2852,852.7188,415.2852,856.7188,405.2852,860.7188,409.2852,856.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.3706" x2="411.2852" y1="856.7188" y2="856.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9497" x="237.3706" y="836.52">GET /api/dashboard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.9146" x="237.3706" y="851.6528">Authorization: Bearer JWT</text></g><g class="message" data-participant-1="GW" data-participant-2="GW"><line style="stroke:#181818;stroke-width:1;" x1="427.2852" x2="469.2852" y1="885.8516" y2="885.8516"/><line style="stroke:#181818;stroke-width:1;" x1="469.2852" x2="469.2852" y1="885.8516" y2="898.8516"/><line style="stroke:#181818;stroke-width:1;" x1="428.2852" x2="469.2852" y1="898.8516" y2="898.8516"/><polygon fill="#181818" points="438.2852,894.8516,428.2852,898.8516,438.2852,902.8516,434.2852,898.8516" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.1577" x="434.2852" y="880.7856">Validate JWT</text></g><g class="message" data-participant-1="GW" data-participant-2="PDS"><polygon fill="#181818" points="970.0356,939.1172,980.0356,943.1172,970.0356,947.1172,974.0356,943.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="427.2852" x2="976.0356" y1="943.1172" y2="943.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1162" x="434.2852" y="922.9185">Check permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.8423" x="434.2852" y="938.0513">(user, resource, action)</text></g><g class="message" data-participant-1="PDS" data-participant-2="DB"><polygon fill="#181818" points="1208.9063,968.25,1218.9063,972.25,1208.9063,976.25,1212.9063,972.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="992.0356" x2="1214.9063" y1="972.25" y2="972.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.687" x="999.0356" y="967.1841">Query user roles &amp; attributes</text></g><g class="message" data-participant-1="DB" data-participant-2="PDS"><polygon fill="#181818" points="1003.0356,997.3828,993.0356,1001.3828,1003.0356,1005.3828,999.0356,1001.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="997.0356" x2="1224.9063" y1="1001.3828" y2="1001.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1157" x="1009.0356" y="996.3169">Role &amp; attribute data</text></g><g class="message" data-participant-1="PDS" data-participant-2="PDS"><line style="stroke:#181818;stroke-width:1;" x1="992.0356" x2="1034.0356" y1="1030.5156" y2="1030.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1034.0356" x2="1034.0356" y1="1030.5156" y2="1043.5156"/><line style="stroke:#181818;stroke-width:1;" x1="993.0356" x2="1034.0356" y1="1043.5156" y2="1043.5156"/><polygon fill="#181818" points="1003.0356,1039.5156,993.0356,1043.5156,1003.0356,1047.5156,999.0356,1043.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.8706" x="999.0356" y="1025.4497">Evaluate RBAC + ABAC policies</text></g><g class="message" data-participant-1="PDS" data-participant-2="GW"><polygon fill="#181818" points="438.2852,1068.6484,428.2852,1072.6484,438.2852,1076.6484,434.2852,1072.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="432.2852" x2="986.0356" y1="1072.6484" y2="1072.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.0737" x="444.2852" y="1067.5825">Access decision (PERMIT/DENY)</text></g><path d="M160.9155,1087.6484 L225.3584,1087.6484 L225.3584,1094.7813 L215.3584,1104.7813 L160.9155,1104.7813 L160.9155,1087.6484" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="1274.7588" x="160.9155" y="1087.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="175.9155" y="1100.7153">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.0244" x="240.3584" y="1099.8589">[Access Permitted]</text><g class="message" data-participant-1="GW" data-participant-2="Dashboard Service"><polygon fill="#181818" points="1335.4785,1121.9141,1345.4785,1125.9141,1335.4785,1129.9141,1339.4785,1125.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="427.2852" x2="1341.4785" y1="1125.9141" y2="1125.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.7739" x="434.2852" y="1120.8481">GET dashboard data</text></g><g class="message" data-participant-1="Dashboard Service" data-participant-2="GW"><polygon fill="#181818" points="438.2852,1151.0469,428.2852,1155.0469,438.2852,1159.0469,434.2852,1155.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="432.2852" x2="1351.4785" y1="1155.0469" y2="1155.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.1714" x="444.2852" y="1149.981">Dashboard data</text></g><g class="message" data-participant-1="GW" data-participant-2="FE"><polygon fill="#181818" points="241.3706,1180.1797,231.3706,1184.1797,241.3706,1188.1797,237.3706,1184.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="235.3706" x2="416.2852" y1="1184.1797" y2="1184.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.1416" x="247.3706" y="1179.1138">200 OK + data</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="160.9155" x2="1435.6743" y1="1193.1797" y2="1193.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="99.521" x="165.9155" y="1203.3901">[Access Denied]</text><g class="message" data-participant-1="GW" data-participant-2="FE"><polygon fill="#181818" points="241.3706,1224.1172,231.3706,1228.1172,241.3706,1232.1172,237.3706,1228.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="235.3706" x2="416.2852" y1="1228.1172" y2="1228.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3262" x="247.3706" y="1223.0513">403 Forbidden</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#181818" points="49.9551,1260.25,39.9551,1264.25,49.9551,1268.25,45.9551,1264.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="224.3706" y1="1264.25" y2="1264.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.4155" x="55.9551" y="1259.1841">Display dashboard/error</text></g><!--SRC=[TLLDSzem4BtxL-paaARJP4W_JZvanc1WAFaWE9JfJ2x2La0JHt8b6Kf_VNTbnTYkoo4CshShxTltDYorIiFAS0tCm2eecBOY5GMJ5iucMadBPGPHKPnHV39k0wRCyWCxGiBrNgJSOQRhDYOgxQu5Y98sOCwFQQxOAypYEmUOZze0zxfcXLMdmaBb8Zr2p5DXX98EiuYJ86EMRPZXX31sgtdoUEk2yJ08hB0vhpgd9tA9zPZ5T3Xt1qgBFzNlIQuEGR22gnia88GnSg8XrJoZ79QRWALMx94AuYUOZ0auNOUmU4YUOC2mrY1NMo5FEEGecAu95oKXJ9G-C9q18K7pNoKtzeH5ke8e8Uny5C8FbekCZdllH-O2bbiOdO9LHW3ucO_URrnoMse99JMVvaoy6GUehbaXOCfj5IsqUX4vT-7w6kJV7QmSFXw6y5XoVQmoYFGs7Dcct_4GhdpvLRTqnflekhX_RYLFQxNOb9QRRiRxSquiBIiIuVlw2QnwvRBktrUam44WtPtk_UGe_CdJGnRuRRjt8jETayY_WkRgbVBb-XeUvbW9wtNX904wgkH2w0ITo6iedHDR8ToITi2KQSgDgPAamWfQR7SMr8jBTXG9upJafSopPqcDK0TCI0DePRBBUMlk0S_H84t1pEI-9HbFMSSaBmndbtM9-tRz6LQIUVluU8EHtdYtLLyQ5qyGV82at1WQ9xuyMipgqRhfjNnwSkWzsuijaMmLoj7iDWhjrJ3cT4o-BCIW3ZxBLgaGXfnf98ccqUDQAb8xaJ3LCUwS44Oxdhv2mVMRCBIDpBEy8C8lqTf6bJhbbyuQIduybQPj5U2V7ZzfbNE3Gslel-aLxoftzHAXJMJbnOwt_2qkOOoJBYcm74OZr6b4NmLjKu7NEAJlDdBgGm5NAnOk5kFbtUnf48_lVtviNk4weHtaCnP4XBKDATp0MVpEUxtMgw7Ky-ZP8Zr93j1pNhyw_hTUuwd_gzZdO9VlhEBxYhaKVVh-Ikjy8pAqKwNWjkTFMe-5ANBytrdtFE1QAzt4JyP_0G00]--></g></svg>